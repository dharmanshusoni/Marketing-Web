<div class="container-fluid">
    <!-- <div class="row carding">
        <nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E&#34;);"
            aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="#">Home</a></li>
                <li class="breadcrumb-item"><a href="/agent">agent</a></li>
                <li class="breadcrumb-item active" aria-current="page">Form</li>
            </ol>
        </nav>
    </div> -->
    <form #AgentForm="ngForm" (ngSubmit)="save()">
        <div class="row">

            <div class="col-sm-10">

                <div class="card mgTop5">
                    <div class="row card-body">
                        <h5 class="card-title">Agent Info</h5>
                        <div class="col-sm-4">
                            <input type="text" class="form-control" id="name" [(ngModel)]="agentModel.name"
                                name="name" #name="ngModel" placeholder="Agent name Ex. My agent Pvt. Ltd." required
                                maxlength="50">
                            <div *ngIf="name.invalid && (name.dirty || name.touched)" class="form-text error">
                                <span *ngIf="name.errors?.['required']">
                                    * Agent name is required.
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <input type="email" class="form-control" id="ipagentEmail"
                                [(ngModel)]="agentModel.email" name="email" #email="ngModel"
                                placeholder="agent email Agent's email Ex. John@domain.com"
                                aria-describedby="emailHelp" required maxlength="50">
                            <!-- <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div> -->
                            <div *ngIf="email.invalid && (email.dirty || email.touched)" class="form-text error">
                                <span *ngIf="email.errors?.['required']">
                                    * Email is required.
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <ng-multiselect-dropdown [placeholder]="'Select Agent Type'" [settings]="dropdownSettings"
                                name="Agent Type" #agentType="ngModel" [data]="agentTypeList" [(ngModel)]="agentModel.agentType"
                                (onSelect)="onItemSelect($event,'agentType')" required>
                            </ng-multiselect-dropdown>
                            <div *ngIf="agentType.invalid && (agentType.dirty || agentType.touched)" class="form-text error">
                                <span *ngIf="agentType.errors?.['required']">
                                    *Agent Type is required.
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card mgTop5">
                    <div class="row card-body">
                        <h5 class="card-title">Contact</h5>
                        <div class="col-sm-6">
                            <label for="ipContactPersonName" class="form-label">Contact Person Name</label>
                            <input type="text" class="form-control" id="ipContactPersonName"
                                [(ngModel)]="agentModel.contactPerson" name="contactPerson"
                                #contactPerson="ngModel" placeholder="Contact person name Ex. John" required
                                maxlength="50">
                            <div *ngIf="contactPerson.invalid && (contactPerson.dirty || contactPerson.touched)"
                                class="form-text error">
                                <span *ngIf="contactPerson.errors?.['required']">
                                    * Contact person is required.
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label for="ipagentContact" class="form-label">Contact No.</label>
                            <input type="text" class="form-control" id="ipagentContact"
                                [(ngModel)]="agentModel.contactNo" name="contactNo" #contactNo="ngModel"
                                placeholder="Agent official contact no." required minlength="6" maxlength="13">
                            <div *ngIf="contactNo.invalid && (contactNo.dirty || contactNo.touched)"
                                class="form-text error">
                                <span *ngIf="contactNo.errors?.['required']">
                                    * contact No is required.
                                </span>
                                <span *ngIf="contactNo.errors?.['minlength'] || contactNo.errors?.['maxlength']">
                                    * Invalid contact no.
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label for="ipagentAddress" class="form-label">Address</label>
                            <input type="text" class="form-control" id="ipagentAddress"
                                [(ngModel)]="agentModel.address" name="address" #address="ngModel"
                                placeholder="Agent headquarter/office address" required maxlength="50">
                            <div *ngIf="address.invalid && (address.dirty || address.touched)" class="form-text error">
                                <span *ngIf="address.errors?.['required']">
                                    * Address is required.
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <label for="ipagentZipcode" class="form-label">Zipcode</label>
                            <input type="text" class="form-control" id="ipagentZipcode"
                                [(ngModel)]="agentModel.zipcode" name="zipcode" #zipcode="ngModel"
                                placeholder="Address Zipcode" required maxlength="10">
                            <div *ngIf="zipcode.invalid && (zipcode.dirty || zipcode.touched)" class="form-text error">
                                <span *ngIf="zipcode.errors?.['required']">
                                    * Zipcode is required.
                                </span>
                            </div>
                        </div>

                        <div class="col-sm-4">
                            <label for="ipagentCountry" class="form-label">Country</label>
                            <ng-multiselect-dropdown [placeholder]="'Select country'" [settings]="dropdownSettings"
                                name="country" #country="ngModel" [data]="countryList"
                                [(ngModel)]="agentModel.country" (onSelect)="onItemSelect($event,'country')"
                                required>
                            </ng-multiselect-dropdown>
                            <div *ngIf="country.invalid && (country.dirty || country.touched)" class="form-text error">
                                <span *ngIf="country.errors?.['required']">
                                    * Country is required.
                                </span>
                            </div>
                        </div>

                        <!-- <div class="col-sm-6"></div> -->
                        <div class="col-sm-4">
                            <label for="ipagentState" class="form-label">State</label>
                            <ng-multiselect-dropdown [placeholder]="'Select state'" [settings]="dropdownSettings"
                                name="state" #state="ngModel" [data]="stateList" [(ngModel)]="agentModel.state"
                                (onSelect)="onItemSelect($event,'state')" required>
                                <!-- (onSelectAll)="onSelectAll($event) -->
                            </ng-multiselect-dropdown>
                            <div *ngIf="state.invalid && (state.dirty || state.touched)" class="form-text error">
                                <span *ngIf="state.errors?.['required']">
                                    * State is required.
                                </span>
                            </div>
                        </div>
                        <div class="col-sm-4">
                            <label for="ipagentCity" class="form-label">City</label>
                            <ng-multiselect-dropdown [placeholder]="'Select city'" [settings]="dropdownSettings"
                                name="city" #city="ngModel" [data]="cityList" [(ngModel)]="agentModel.city"
                                (onSelect)="onItemSelect($event,'city')" required>
                            </ng-multiselect-dropdown>
                            <div *ngIf="city.invalid && (city.dirty || city.touched)" class="form-text error">
                                <span *ngIf="city.errors?.['required']">
                                    * City is required.
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card mgTop5">
                    <div class="row card-body">
                        <h5 class="card-title">Business</h5>
                        <div class="col-sm-12">
                            <!-- <div *ngIf="businessDetails.invalid && (businessDetails.dirty || businessDetails.touched)" class="form-text error">
                            <span *ngIf="businessDetails.errors?.['maxlength']">
                                * Details should max 500 char.
                            </span>
                        </div> -->
                            <div class="form-floating">
                                <textarea class="form-control" id="floatingTextarea2" name="businessDetails"
                                    [(ngModel)]="agentModel.agentDetail" #businessDetails="ngModel"
                                    maxlength="500" style="height: 100px"></textarea>
                                <label for="floatingTextarea2">Give some description on agents business work and genre
                                    (maximum 500 char)</label>
                            </div>
                        </div>
                    </div>
                </div>

            </div>


            <div class="col-sm-2">
                <div class="card mgTop5">
                    <div class="row card-body">
                        <h5 class="card-title">Actions</h5>
                        <div class="d-grid gap-2">
                            <!-- [disabled]="AgentForm.invalid" -->
                            <button class="btn btn-success btn-sm" type="submit"><i class="bi bi-save"></i>
                                Save</button>
                            <button class="btn btn-warning btn-sm" hidden type="button"><i class="bi bi-save"></i>
                                Update</button>
                            <button class="btn btn-outline-dark btn-sm" type="button" (click)="form.reset();"
                                routerLink="/agent"><i class="bi-arrow-left-circle"></i> Back</button>
                        </div>
                    </div>
                </div>
                <!-- *ngIf="isEdit" -->
                <div class="card mgTop5" >
                    <div class="row card-body">
                        <h5 class="card-title">Logo</h5>
                        <img [src]="createImgPath(agentModel.profileImageUrl)" alt="logo" height="250px" width="250px">
                        <div class="col-md-12">
                            <input type="file" accept="image/*" #file placeholder="Choose file"
                                (change)="uploadFile(file.files)" style="display:none;">

                            <div class="d-grid gap-2">
                                <button type="button" class="btn btn-success btn-sm" (click)="file.click()"><i
                                        class="bi bi-cloud-arrow-up"></i> Select Image</button>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <span class="upload" *ngIf="progress > 0">
                                {{progress}}%
                            </span>
                            <span class="upload" *ngIf="message">
                                {{message}}
                            </span>
                        </div>

                    </div>
                </div>
                <div class="card mgTop5" *ngIf="isEdit">
                    <div class="row card-body">
                        <h5 class="card-title">Documents</h5>
                        <span><i class="bi bi-file-earmark-pdf"></i> agents_work.pdf</span>
                        <span><i class="bi bi-file-earmark-word"></i> agents_profile.docx</span>
                        <div class="d-grid gap-2">
                            <button type="button" class="btn btn-success btn-sm" ><i class="bi bi-plus"></i> Upload Document</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </form>
</div>